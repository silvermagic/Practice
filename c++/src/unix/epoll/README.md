### 学习目标

- 理解EPOLL模型中的ET模式(边缘触发)

### 学习心得

读操作触发条件
1) 当缓冲区由不可读变为可读的时候，即缓冲区由空变为不空的时候。
2) 当有新数据到达时，即缓冲区中的待读数据变多的时候。
3) 当缓冲区有数据可读，且应用进程对相应的描述符进行EPOLL_CTL_MOD修改EPOLLIN事件时。

写操作触发条件
1) 当缓冲区由不可写变为可写时。
2) 当有旧数据被发送走，即缓冲区中的内容变少的时候。
3) 当缓冲区有空间可写，且应用进程对相应的描述符进行EPOLL_CTL_MOD修改EPOLLOUT事件时。

### 测试

```
### 输入3个字符会触发两次打印(条件1、3)，然后程序会阻塞(条件1)
### 输入6个字符会触发三次打印，因为最后一次虽然我们已经读完缓冲了，但是我们依然设置了EPOLLIN事件
# ./app
fwd
reading... fw
reading... d

fwdssg
reading... fw
reading... ds
reading... sg
reading...


```

### 参考文档

[epoll 水平触发与边缘触发](https://leehao.me/epoll-%E6%B0%B4%E5%B9%B3%E8%A7%A6%E5%8F%91%E4%B8%8E%E8%BE%B9%E7%BC%98%E8%A7%A6%E5%8F%91/)